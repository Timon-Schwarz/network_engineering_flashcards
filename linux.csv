"Complete baseline configuration","timedatectl set-timezone [continent]/[city]<br>hostnamectl set-hostname [FQDN]<br>dpkg-reconfigure locales<br>dpkg-reconfigure keyboard-configuration<br>dpkg-reconfigure console-setup","General"
"Create a new user","useradd [name] -m<br>passwd [name]","General"
"Give a user sudo privileges","usermod -aG sudo [name]","General"
"Configure a static IP address","#/etc/network/interfaces<br>...<br>auto [interface]<br>iface [interface] inet static<br>  address [IP]/[mask]<br>  gateway [IP]<br>  dns-domain [domain]<br>  dns-nameserver [IP]<br>...<br>#/etc/network/interfaces<br>apt install resolvconf<br>systemctl restart networking","General"
"Configure a dynamic IP address via DHCP","#/etc/network/interfaces<br>...<br>auto [interface]<br>iface [interface] inet dhcp<br>...<br>#/etc/network/interfaces<br>apt install resolvconf<br>systemctl restart networking","General"
"Configure a static IPv6 address","#/etc/network/interfaces<br>...<br>auto [interface]<br>iface [interface] inet6 static<br>  address [IPv6]/[prefix]<br>  gateway [IPv6]<br>  dns-domain [domain]<br>  dns-nameserver [IPv6]<br>...<br>#/etc/network/interfaces<br>apt install resolvconf<br>systemctl restart networking","General"
"Configure a dynamic IPv6 address via DHCP","#/etc/network/interfaces<br>...<br>auto [interface]<br>iface [interface] inetv6 dhcp<br>...<br>#/etc/network/interfaces<br>apt install resolvconf<br>systemctl restart networking","General"
"Enable IPv4 traffic forwarding","#/etc/sysctl.conf<br>...<br>net.ipv4.ip_forwarding=1<br>...<br>#/etc/sysctl.conf<br>sysctl -p","General"
"Establish a basic BGP peering with FRR","apt install frr frr-doc<br>#/etc/frr/daemons<br>...<br>bgpd=yes<br>...<br>frr_profile='datacenter'<br>...<br>#/etc/frr/daemons<br>systemctl restart frr<br>systemctl enable --now frr<br>vtysh<br>configure terminal<br>router bgp [AS]<br>network [IP]/[mask]<br>neighbor [IP] remote-as [AS]<br>do write","FRR BGP"
"Establish a Strongswan IKEv2 S2S VPN with PSK to Windows Server with default policies","apt install strongswan<br>#/etc/ipsec.conf<br>conn [name]<br>  auto=start<br>  keyexchange=ikev2<br>  ike=aes256-sha256-modp1024<br>  authby=secret<br>  left=[IP]<br>  right=[IP]<br>  leftsubnet=[IP]/[mask]<br>  rightsubnet=[IP]/[mask]<br>#/etc/ipsec.secret<br>[local IP] [remote IP] : PSK '[password]'<br>systemctl restart strongswan-starter<br>systemctl enable --now strongswan-starter","IPsec VPN Strongswan"
"List all routes installed by strongswan","ip route list table 220","IPsec VPN Strongswan"
"Set up a DHCP server","apt install isc-dhcp-server<br>#etc/default/isc-dhcp-server<br>...<br>INTERFACESv4='[interface]'<br>...<br>#etc/default/isc-dhcp-server<br>#etc/dhcp/dhcpd.conf<br>authoritative;<br>subnet [IP] netmask [mask] {<br>}<br>subnet [IP] netmask [mask] {<br>  range [first IP] [last IP];<br>  option domain-name-servers [IP];<br>  option domain-name '[domain]';<br>  option routers [IP];<br>  default-lease-time [minutes];<br>  max-lease-time [minutes;]<br>}<br>#etc/dhcp/dhcpd.conf<br>systemctl restart isc-dhcp-server<br>systemctl enable --now isc-dhcp-server","DHCP"
"Enable DDNS updates on a DHCP server","#/etc/dhcp/dhcpd.conf<br>...<br>ddns-update-style interim;<br>ddns-updates on;<br>update-static-leases on;<br>zone [domain]. {<br>  primary [dns IP];<br>}<br>zone [reverse domain]. {<br>  primary [dns IP];<br>}<br>...<br>#/etc/dhcp/dhcpd.conf<br>systemctl restart isc-dhcp-server","DHCP DNS"
"Set up a DHCP relay agent","apt install isc-dhcp-relay<br>#/etc/default/isc-dhcp-relay<br>...<br>INTERFACESv4='[client-interface server-interface]'<br>...<br>#/etc/default/isc-dhcp-relay<br>systemctl restart isc-dhcp-relay<br>systemctl enable --now isc-dhcp-relay","DHCP"
"Set up a DNS Server via Bind9","apt install bind9<br>#/etc/bind/named.conf.options<br>options {<br>  directory '/var/cache/bind';<br>  dnssec-validation no;<br>  allow-query { any; };<br>  recursion yes;<br>  forwarders {<br>    [IP];<br>  };<br>};<br>#/etc/bind/named.conf.options<br>#/etc/bind/named.conf.local<br>include '/etc/bind/zones.rfc1918'<br>zone '[domain]' {<br>  type master;<br>  file '[name]';<br>}<br>zone '[reverse-IP].in-addr.arpa' {<br>  type master;<br>  file '[name]';<br>}<br>#/etc/bind/named.conf.local<br>cp /etc/bind/db.empty /var/cache/bind/db.[zone name]<br>#/var/cache/bind/db.[zone name]<br>..<br>@ IN SOA [domain]. [dns server FQDN]. (<br> ..<br>@ IN NS [dns server FQDN].<br>@ IN A [dns server IP]<br>[dns server hostname] IN A [dns server IP]<br>...<br>#/var/cache/bind/db.[zone name]<br>#//var/cache/bind/db.[reverse name]<br>..<br>@ IN SOA [domain]. [dns server FQDN]. (<br> ..<br>@ IN NS [dns server FQDN].<br>[host IP octet] IN PTR [dns server FQDN].<br>...<br>#/var/cache/bind/db.[reverse name]<br>systemctl restart named<br>systemctl enable --now named","DNS Bind9"
"Add a MX resource record to an existing BIND9 DNS server configuration","#/var/cache/bind/db.[zone name]<br>..<br>[TTL] IN MX [priority] [FQDN]<br>#/var/cache/bind/db.[zone name]","DNS Bind9 Mail"
"Add a CNAME resource record to an existing BIND9 DNS server configuration","#/var/cache/bind/db.[zone name]<br>..<br>[alias] IN CNAME [FQDN]<br>#/var/cache/bind/db.[zone name]","DNS Bind9"
"Allow DDNS updates on a Bind9 DNS Server","#/etc/bind/named.conf.local<br>...<br>zone '[domain]' {<br>  ...<br>  allow-update { [DHCP IP]; };<br>  ...<br>}<br>zone '[reverse-IP].in-addr.arpa' {<br>  ...<br>  allow-update { [DHCP IP]; };<br>  ...<br>}<br>...<br>#/etc/bind/named.conf.local<br>systemctl restart named","DNS Bind9 DHCP"
"Add a custom root hint to a Bind9 DNS Server","#/usr/share/dns/root.hints<br>...<br>. 3600000 NS [dns server FQDN].<br>[dns server FQDN]. 3600000 A [dns server IP]<br>...<br>#/usr/share/dns/root.hints<br>systemctl restart named","DNS Bind9"
"Configure static NAT via nftables","#/etc/nftables.conf<br>...<br>table ip nat {<br>  chain prerouting {<br>    type nat hook prerouting priority dstnat;<br>    meta iifname '[external interface]' ip daddr [external IP] dnat to [internal IP];<br>    ...<br>  }<br>  chain postrouting {<br>    type nat hook postrouting priority srcnat;<br>    ip daddr {127.0.0.0/8, 10.0.0.0/8, 172.16.0.0/20, 192.168.0.0/16} return;<br>    meta oifname '[external interface]' ip saddr [internal IP] snat to [external IP];<br>  }<br>}<br>...<br>#/etc/nftables.conf","NAT nftables"
"Configure PAT via nftables","#/etc/nftables.conf<br>...<br>table ip nat {<br>  chain prerouting {<br>    type nat hook prerouting priority dstnat;<br>    ...<br>  }<br>  chain postrouting {<br>    type nat hook postrouting priority srcnat;<br>    ip daddr {127.0.0.0/8, 10.0.0.0/8, 172.16.0.0/20, 192.168.0.0/16} return;<br>    meta oifname '[external interface]' snat to [external IP];<br>  }<br>}<br>...<br>#/etc/nftables.conf","NAT nftables"
"Configure Port forwarding via nftables","#/etc/nftables.conf<br>...<br>table ip nat {<br>  chain prerouting {<br>    type nat hook prerouting priority dstnat;<br>    meta iifname '[external interface]' ip daddr [external IP] {udp | tcp} dport [port] dnat to [IP]<br>  }<br>  chain postrouting {<br>    type nat hook postrouting priority srcnat;<br>    ...<br>  }<br>}<br>...<br>#/etc/nftables.conf","NAT nftables"
"Set up OpenLDAP with LDAP Account Manager Web GUI","apt install slapd ldap-utils ldap-account-manager<br>#/etc/ldap/ldap.conf<br>TODO<br>#/etc/ldap/ldap.conf<br>systemctl enable --now sldapd<br># http://[ip]/lam<br># configure profile -> passwd = lam","LDAP"
"Query all LDAP domain objects","ldapsearch -Y EXTERNAL -H ldapi:/// -b 'dc=[domain],dc=[root domain]'","LDAP"
"Query current LDAP configuration","ldapsearch -Y EXTERNAL -H ldapi:/// -b 'cn=config'","LDAP"
"Apply LDIF file to LDAP configuration","ldapmodify -Y EXTERNAL -H ldapi:/// -f [file]","LDAP"
"Prohibit anonymous LDAP queries via LDIF file","dn: cn=config<br>changetype: modify<br>add: olcDisallows<br>olcDisallows: bind_anon","LDAP"
"Set up login via LDAP","apt install libnss-ldap libpam-ldap<br>#/etc/nsswitch.conf<br>...<br>passwd: ... ldap<br>group: ... ldap<br>shadow: ... ldap<br>...<br>#/etc/nsswitch.conf<br>#/etc/pam.d/common-session<br>...<br>session optional pam_mkhomedir.so skel=/etc/skel umask=077<br>#/etc/pam.d/common-session<br>reboot now","LDAP"
"Set up a Root CA via OpenSSL","#/etc/ssl/openssl.conf<br>...<br>\[ CA_default \]<br>dir = [directory]<br>...<br>certificate=$certs/[CN].crt<br>...<br>policy = policy_anything<br>...<br>\[ usr_cert \]<br>crlDistributionPoints = @crl_info<br>authorityInfoAccess = @aia_info<br>...<br>\[ crl_info \]<br>URI.0 = [URI]<br>\[ aia_info \]<br>caIssuers;URI.0 = [URI]<br>#/etc/ssl/openssl.conf<br>mkdir -p [directory]/\{certs,crl,newcerts,private,requests\}<br>touch [directory]/index.txt<br>echo 1000 > [directory]/serial<br>echo 1000 > [directory]/crlnumber<br>openssl genrsa -out [directory]/private/cakey.pem 4096<br>openssl req -new -x509 -key [directory]/private/cakey.pem -out [directory]/certs/[CN].crt -days [number]<br>openssl ca -gencrl -out [directory]/crl/[CN].crl","OpenSSL CA"
"Publish CRL of an OpenSSL CA","openssl ca -gencrl -out [directory]/crl/[CN].crl","OpenSSL CA"
"Sign a certificate request for a subordinate CA via OpenSSL","openssl ca -in [csr] -out [directory]/certs/[CN].crt -extensions v3_ca","OpenSSL CA"
"Sign a certificate request via OpenSSL","openssl ca -in [csr] -out [directory]/certs/[CN].crt","OpenSSL CA"
"Create a basic certificate signing request via OpenSSL ","openssl req -new -newkey rsa:2048 -nodes -keyout [name].key -out [name].csr","OpenSSL CA"
"Set up an Apache web server that can can be used to host AIA and CDP locations","apt install apache2<br>cp /etc/ssl/CA/certs/* /var/www/html/<br>cp /etc/ssl/CA/crl/* /var/www/html/<br>rm /var/www/html/index.html<br>systemctl restart apache2<br>systemctl enable --now apache2","Apache CA"
"Set up a FreeRadius server that can facilitate RADIUS logins on cisco devices","apt install freeradius<br>#/etc/freeradius/3.0/client.conf<br>...<br>client [name] {<br>    ipaddr = [IP]<br>    secret = [password]<br>    nastype = cisco<br>}<br>...<br>#/etc/freeradius/3.0/client.conf<br>#/etc/freeradius/3.0/users<br>...<br>[username]    Cleartext-Password := '[password]'<br>    Service-Type = NAS-Prompt-User,<br>    Cisco-AVPair = 'shell:priv-lvl=[privilege level]'<br>...<br>#/etc/freeradius/3.0/users<br>systemctl restart freeradius<br>systemctl enable --now freeradius","RADIUS"
"Set up a SNMPv2 read only community agent","apt install snmpd<br>#/etc/snmp/snmpd.conf<br>rocommunity [community string] [server IP]/[mask]<br>#/etc/snmp/snmpd.conf<br>systemctl restart snmpd<br>systemctl enable --now snmpd","SNMP"
"Set up basic cacti monitoring","apt install apache2 mariadb-server php cacti cacti-spine<br>systemctl enabel --now apache2<br>systemctl enabel --now mariadb<br>mysql_secure_installation<br>mysql_tzinfo_to_sql /usr/share/zoneinfo/ | myql -root -p mysql<br># visit http://[IP]/cacti/install/install.php and clear all warnings<br># /etc/php/7.4/apache2/php.ini<br># /etc/php/7.4/cli/php.ini<br># /etc/mysql/mariadb.conf.d/50-server.cnf<br>systemctl restart mariadb<br>systemctl restart apache2","Cacti-Monitoring SNMP"
"Join active directory domain","# make sure nameserver and search domain are correct<br>apt install sssd realmd<br>realm join -U [user] [domain]<br>realm permit --realm [domain] --all<br># maybe do add to pam: session optional        pam_mkhomedir.so skel=/etc/skel umask=077","ADDS"
